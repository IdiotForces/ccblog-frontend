<!DOCTYPE html>
<html ng-app="isdcng.blogdemo">

<head>
	<meta charset="utf-8">
	<title>Fundamental HTML</title>

	<script src="./external/jquery-2.1.1.min.js"></script>
	<script src="./external/semantic.js"></script>
	<script type="text/javascript" src="./external/angular.min.js"></script>

	<script type="text/javascript" src="blog_demo.js"></script>
	<script type="text/javascript" src="blog.js"></script>

	<link rel="stylesheet" type="text/css" class="ui" href="./external/semantic.css">
	<link rel="stylesheet" type="text/css" href="./external/components/dropdown.css">

	<!-- <script src="Foundation.js"></script> -->

	<style type="text/css">

		.secondary-img {
			max-height: 10em;
			max-width: 10em;
		}

		.mxuser.card {
			display: table-cell;
			width: 96px;
		}

		.mxuser.card > .content {
			padding: 0.5em;
		}

		.mxuser.card > .content > .header:not(.ui) {
			font-size: 1em;
			line-height: 2em;
		}

		.mxuser.card > .content > .meta {
			font-size: 0.6em;
		}

	</style>
</head>

<body ng-controller="BlogController">

	<!-- top navbar -->
	<div class="ui menu red inverted" style="margin: 0;">
		<div class="item">
			CC
		</div>
		<div class="item">
			<a href="">Homepage</a>
		</div>
		<div class="item">
			<a href="">Activities</a>
		</div>
		<div class="item">
			<a href="">Organization</a>
		</div>
		<div class="item">
			<a href="">Classroom</a>
		</div>
		<div class="item">
			<a href="">Worldwide</a>
		</div>

		<div class="right menu">
			<div class="item">
				<i class="weibo icon" href="https://www.baidu.com"></i>
				<i class="twitter icon"></i>
			</div>
			<div class="ui simple dropdown pointing item">
				User <i class="dropdown icon"></i>
				<div class="menu">
					<div class="item"><i class="weibo icon"></i>Settings</div>
					<div class="item"><i class="quit icon">Log Out</i></div>
				</div>
			</div>
		</div>
	</div>

	<!-- secondary topbar -->
	<div class="header segment">
		<div class="ui menu red">

			<div class="item">
				<a href=""><i class="up chevron icon"></i></a>
			</div>

			<div class="item">
				<div class="ui breadcrumb">
						<a class="section">Home</a>
						<i class="right chevron icon divider inverted"></i>
						<a class="section">Blog</a>
						<i class="right chevron icon divider inverted"></i>
						<div class="active section">Index</div>
				</div>
			</div>

			<div class="right menu">
				<div class="item">
					<div class="ui input icon">
						<input class="prompt" type="text" placeholder="Search..." >
						<i class="search link icon"></i>
					</div>
				</div>
			</div>

		</div>
	</div>

	<div class="container" ng-controller="MainArticleListController" style="max-width: 768px; margin: 2rem auto;">

			<div class="ui menu">

				<div class="item">

					<div class="ui pagination menu">
						<a class="icon item" ng-class="{ 'disabled': current_page == 1 }" ng-click="prev_page()">
							<i class="left arrow icon" ng-class="{ 'disabled': current_page == 1 }"></i>
						<a class="item" ng-repeat="i in utilService.rep_range(mainArticleListPages.get_total_pages()) track by $index" ng-click="nav_page($index+1)" ng-class="{ 'active': current_page == $index+1 }">{{ $index+1 }}</a>
						</a>
						<a class="icon item" ng-class="{ 'disabled': current_page == mainArticleListPages.get_total_pages() }" ng-click="next_page()">
							<i class="right arrow icon" ng-class="{ 'disabled': current_page == mainArticleListPages.get_total_pages() }"></i>
						</a>
					</div>

				</div>
			</div>

		<div class="ui piled segment transition">

			<!-- left sidebar -->
			<div class="ui close left rail">
				<div class="ui segment">
					<div class="ui vertical accordion menu">
						<div class="item">
							<a class="title">
								<i class="dropdown icon"></i>
								新儒学
							</a>
							<div class="content menu">
								<a class="item" href="">新儒学</a>
							</div>
						</div>
					</div>
				</div>
			</div>

			<!-- articles -->
			<div class="ui divided items transition">
				<h2>{{ myBlog.get_display_name() }}</h2>

				<div class="item" ng-repeat="article in article_list_page(get_current_page())">
					<div class="ui card image mxuser">
						<div class="image">
							<img ng-src="{{ usersService.get_userinfo(article.author_id).user_avatar }}" />
						</div>
						<div class="content">
							<a class="header">{{ usersService.get_userinfo(article.author_id).username }}</a>
							<div class="meta">96-12-08</div>
						</div>
					</div>
					<div class="content">
						<a class="header">{{ article.title }}</a>
						<div class="meta">
							<span>{{ article.title_secondary }}</span>
						</div>
						<div class="description">
							{{ article.summary }}
						</div>
						<div class="extra">
							<a ng-repeat="tag in article.category" class="ui label">{{ tag }}</a>
						</div>
					</div>
				</div>

			</div>

		</div>

			<div class="ui menu">
				<div class="item">

					<div class="ui pagination menu">
						<a class="icon item" ng-class="{ 'disabled': current_page == 1 }" ng-click="prev_page()">
							<i class="left arrow icon" ng-class="{ 'disabled': current_page == 1 }"></i>
						<a class="item" ng-repeat="i in utilService.rep_range(mainArticleListPages.get_total_pages()) track by $index" ng-click="nav_page($index+1)" ng-class="{ 'active': current_page == $index+1 }">{{ $index+1 }}</a>
						</a>
						<a class="icon item" ng-class="{ 'disabled': current_page == mainArticleListPages.get_total_pages() }" ng-click="next_page()">
							<i class="right arrow icon" ng-class="{ 'disabled': current_page == mainArticleListPages.get_total_pages() }"></i>
						</a>
					</div>

				</div>
			</div>

	</div>

	<!-- footer -->
	<div class="ui inverted red footer vertical segment">
		<div class="ui stackablecenter aligned page grid">

			<div class="row">
				<div class="column">
					<div class="ui horizontal divided relaxed red list inverted">

						<div class="item">
							<a href="">四川大学</a>
						</div>

						<div class="item">
							<a href="">SCU ISDC</a>
						</div>

					</div>
				</div>
			</div>

			<div class="row">
				<div class="column">
					<p>Copyleft 2015. Contact: lovejay-lovemusic#outlook.com</p>
				</div>
			</div>
		</div>
	</div>

	<script type="text/javascript">
		$('.ui.accordion').accordion();
	</script>

</body>

</html>